import { TTetrominoType } from './types';

export const COLS = 10;
export const ROWS = 20;
export const CELL = 50;

export const BASE_STEP = 1.0; // 초기 낙하 간격 (초)
export const MIN_STEP = 0.05; // 최소 낙하 간격
export const SPEED_INCREASE = 0.05; // 레벨당 감소량

export const SCORE_PER_LINE = [0, 100, 300, 500, 800]; // 0 ~ 4줄 제거 시 점수

export const TETROMINO_TYPES: TTetrominoType[] = [
  'I',
  'O',
  'T',
  'S',
  'Z',
  'J',
  'L',
];
// 7가지 테트로미노 (4가지 회전 상태)
export const TETROMINOES: Record<TTetrominoType, number[][][]> = {
  // ═══════════════════════════════════════════
  // I - 막대 (4x4 매트릭스 필요)
  // ═══════════════════════════════════════════
  I: [
    // 0° (가로)
    // · · · ·
    // ■ ■ ■ ■
    // · · · ·
    // · · · ·
    [
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],

    // 90° (세로)
    // · · ■ ·
    // · · ■ ·
    // · · ■ ·
    // · · ■ ·
    [
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
    ],

    // 180° (가로, 아래쪽)
    // · · · ·
    // · · · ·
    // ■ ■ ■ ■
    // · · · ·
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
    ],

    // 270° (세로, 왼쪽)
    // · ■ · ·
    // · ■ · ·
    // · ■ · ·
    // · ■ · ·
    [
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // O - 정사각형 (회전해도 동일)
  // ═══════════════════════════════════════════
  O: [
    // 모든 회전 상태가 같음
    // · ■ ■ ·
    // · ■ ■ ·
    // · · · ·
    // · · · ·
    [
      [0, 1, 1, 0],
      [0, 1, 1, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 1, 1, 0],
      [0, 1, 1, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 1, 1, 0],
      [0, 1, 1, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 1, 1, 0],
      [0, 1, 1, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // T - T자 모양 (3x3 매트릭스)
  // ═══════════════════════════════════════════
  T: [
    // 0°
    // · ■ ·
    // ■ ■ ■
    // · · ·
    [
      [0, 1, 0],
      [1, 1, 1],
      [0, 0, 0],
    ],

    // 90°
    // · ■ ·
    // · ■ ■
    // · ■ ·
    [
      [0, 1, 0],
      [0, 1, 1],
      [0, 1, 0],
    ],

    // 180°
    // · · ·
    // ■ ■ ■
    // · ■ ·
    [
      [0, 0, 0],
      [1, 1, 1],
      [0, 1, 0],
    ],

    // 270°
    // · ■ ·
    // ■ ■ ·
    // · ■ ·
    [
      [0, 1, 0],
      [1, 1, 0],
      [0, 1, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // S - S자 모양 (초록색)
  // ═══════════════════════════════════════════
  S: [
    // 0°
    // · ■ ■
    // ■ ■ ·
    // · · ·
    [
      [0, 1, 1],
      [1, 1, 0],
      [0, 0, 0],
    ],

    // 90°
    // · ■ ·
    // · ■ ■
    // · · ■
    [
      [0, 1, 0],
      [0, 1, 1],
      [0, 0, 1],
    ],

    // 180°
    // · · ·
    // · ■ ■
    // ■ ■ ·
    [
      [0, 0, 0],
      [0, 1, 1],
      [1, 1, 0],
    ],

    // 270°
    // ■ · ·
    // ■ ■ ·
    // · ■ ·
    [
      [1, 0, 0],
      [1, 1, 0],
      [0, 1, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // Z - Z자 모양 (빨간색) - S의 거울상
  // ═══════════════════════════════════════════
  Z: [
    // 0°
    // ■ ■ ·
    // · ■ ■
    // · · ·
    [
      [1, 1, 0],
      [0, 1, 1],
      [0, 0, 0],
    ],

    // 90°
    // · · ■
    // · ■ ■
    // · ■ ·
    [
      [0, 0, 1],
      [0, 1, 1],
      [0, 1, 0],
    ],

    // 180°
    // · · ·
    // ■ ■ ·
    // · ■ ■
    [
      [0, 0, 0],
      [1, 1, 0],
      [0, 1, 1],
    ],

    // 270°
    // · ■ ·
    // ■ ■ ·
    // ■ · ·
    [
      [0, 1, 0],
      [1, 1, 0],
      [1, 0, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // J - J자 모양 (파란색)
  // ═══════════════════════════════════════════
  J: [
    // 0°
    // ■ · ·
    // ■ ■ ■
    // · · ·
    [
      [1, 0, 0],
      [1, 1, 1],
      [0, 0, 0],
    ],

    // 90°
    // · ■ ■
    // · ■ ·
    // · ■ ·
    [
      [0, 1, 1],
      [0, 1, 0],
      [0, 1, 0],
    ],

    // 180°
    // · · ·
    // ■ ■ ■
    // · · ■
    [
      [0, 0, 0],
      [1, 1, 1],
      [0, 0, 1],
    ],

    // 270°
    // · ■ ·
    // · ■ ·
    // ■ ■ ·
    [
      [0, 1, 0],
      [0, 1, 0],
      [1, 1, 0],
    ],
  ],

  // ═══════════════════════════════════════════
  // L - L자 모양 (주황색) - J의 거울상
  // ═══════════════════════════════════════════
  L: [
    // 0°
    // · · ■
    // ■ ■ ■
    // · · ·
    [
      [0, 0, 1],
      [1, 1, 1],
      [0, 0, 0],
    ],

    // 90°
    // · ■ ·
    // · ■ ·
    // · ■ ■
    [
      [0, 1, 0],
      [0, 1, 0],
      [0, 1, 1],
    ],

    // 180°
    // · · ·
    // ■ ■ ■
    // ■ · ·
    [
      [0, 0, 0],
      [1, 1, 1],
      [1, 0, 0],
    ],

    // 270°
    // ■ ■ ·
    // · ■ ·
    // · ■ ·
    [
      [1, 1, 0],
      [0, 1, 0],
      [0, 1, 0],
    ],
  ],
} as const;

export const COLORS: Record<TTetrominoType, string> = {
  I: '#00f0f0', // 시안
  O: '#f0f000', // 노랑
  T: '#a000f0', // 보라
  S: '#00f000', // 초록
  Z: '#f00000', // 빨강
  J: '#0000f0', // 파랑
  L: '#f0a000', // 주황
};
